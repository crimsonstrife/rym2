/** @format */

var e = !1;
const o = new (0, window.GeoSearch.OpenStreetMapProvider)(),
	t = await o.search({ query: address });
if (
	(console.log(t),
	0 === t.length
		? (console.log("No results found"), (e = !0))
		: (console.log("Results found"), (e = !1)),
	!0 === e)
) {
	var a = L.map("map").setView([0, 0], 18);
	(p = L.marker([0, 0]).addTo(a))
		.bindPopup(
			"<b>Event Location:</b><br>" + mapLocationTitle + "<br> Not Found."
		)
		.openPopup(),
		L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png", {
			maxZoom: 19,
			attribution:
				'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>',
		}).addTo(a);
} else {
	const e = t[0].y,
		o = t[0].x;
	var p;
	a = L.map("map").setView([e, o], 18);
	(p = L.marker([e, o]).addTo(a))
		.bindPopup("<b>Event Location:</b><br>" + mapLocationTitle)
		.openPopup(),
		L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png", {
			maxZoom: 19,
			attribution:
				'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>',
		}).addTo(a),
		p.on("click", function (a) {
			window.open(
				"https://www.google.com/maps/search/?api=1&query=" +
					e +
					"," +
					o +
					"&query_place_id=" +
					t[0].placeId
			);
		});
}
